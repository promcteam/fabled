import{e as v,i as d,s as o,f as s}from"./Cdzpz0tT.js";import{l as c}from"./BLp-DgSW.js";function _(e,u,a){if(e.multiple){if(u==null)return;if(!d(u))return o();for(var r of e.options)r.selected=u.includes(t(r));return}for(r of e.options){var i=t(r);if(s(i,u)){r.selected=!0;return}}(!a||u!==void 0)&&(e.selectedIndex=-1)}function b(e,u){v(()=>{var a=new MutationObserver(()=>{var r=e.__value;_(e,r)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function q(e,u,a=u){var r=!0;c(e,"change",i=>{var n=i?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(n),t);else{var f=e.querySelector(n)??e.querySelector("option:not([disabled])");l=f&&t(f)}a(l)}),v(()=>{var i=u();if(_(e,i,r),r&&i===void 0){var n=e.querySelector(":checked");n!==null&&(i=t(n),a(i))}e.__value=i,r=!1}),b(e)}function t(e){return"__value"in e?e.__value:e.value}export{q as b};
