import{e as v,i as _,s as d,f as s}from"./CbVgQb8f.js";import{l as c}from"./SFtvx5Bv.js";function o(e,r,u){if(e.multiple)return r==null?void 0:_(r)?m(e,r):d();for(var n of e.options){var i=a(n);if(s(i,r)){n.selected=!0;return}}(!u||r!==void 0)&&(e.selectedIndex=-1)}function b(e,r){v(()=>{var u=new MutationObserver(()=>{var n=e.__value;o(e,n)});return u.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{u.disconnect()}})}function q(e,r,u=r){var n=!0;c(e,"change",i=>{var t=i?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(t),a);else{var f=e.querySelector(t)??e.querySelector("option:not([disabled])");l=f&&a(f)}u(l)}),v(()=>{var i=r();if(o(e,i,n),n&&i===void 0){var t=e.querySelector(":checked");t!==null&&(i=a(t),u(i))}e.__value=i,n=!1}),b(e)}function m(e,r){for(var u of e.options)u.selected=r.includes(a(u))}function a(e){return"__value"in e?e.__value:e.value}export{q as b};
