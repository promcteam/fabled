import{$ as Oe,a7 as Ae,h as Ce,a6 as Ie,p as $e,i as ye,a as Xe,j as Se,T as Te,P as o,ao as Ve,ap as K,W as Ze,l as re,n as Ue,m as ce,aq as ae,A as B,ar as et,as as O,at as tt,au as we,c as at,a0 as Ee,a5 as lt,b as st}from"../chunks/components.svelte.BegEKaTb.js";import{g as Pe,b as rt}from"../chunks/entry.D5ClEwDd.js";import{r as He,C as le}from"../chunks/Control.D2V6iONC.js";import{a as y,t as w,d as We,s as se,e as pe,c as ve,h as ot}from"../chunks/disclose-version.CP6KwEEn.js";import{f as z,g as M,s,v as g,i as N,x as Y,t as V,j as T,r as S,o as it,az as nt,k as ke,G as ge,ae as Ge,$ as ut}from"../chunks/index-client.CuiwtA3_.js";import{s as Le,p as U,e as _e,a as j,b as fe}from"../chunks/props.FCwYe7_q.js";import{b as dt}from"../chunks/select.6nM7N81D.js";const vt=!1;async function ct({params:c}){const l=c.id,a=c.type==="skill";let r,t;switch(c.type){case"skill":for(const e of Pe(Ce.skills))if(t||(t=e),e.name==l){r=e;break}break;case"attribute":for(const e of Pe(Ae.attributes))if(t||(t=e),e.name==l){r=e;break}break;default:for(const e of Pe(Oe.classes))if(t||(t=e),e.name==l){r=e;break}break}if(r){let e=!1;if(!r.loaded){let i;if(r.location==="local")if(r instanceof Ie){const u=localStorage.getItem("attribs")||"";u.split(`
`).length>2||u.charAt(0)=="{"?i=$e(u):i={}}else e=!0,i=$e(localStorage.getItem(`sapi.${a?"skill":"class"}.${r.name}`)||"");else{let u;c.type=="class"?u=await ye.getClassYaml(r.name):c.type==="skill"?u=await ye.getSkillYaml(r.name):u=await ye.getAttributeYaml(),i=$e(u)}i&&Object.keys(i).length>0&&(r instanceof Ie?r.load(i[r.name]):r.load(Object.values(i)[0])),e&&a&&r.postLoad()}switch(e&&!a&&ht(r),Xe.set(r),c.type){case"skill":Se.set(Te.SKILLS);break;case"attribute":Se.set(Te.ATTRIBUTES);break;default:Se.set(Te.CLASSES);break}return{data:r}}else t?He(302,`/${c.type}/${t.name}`):He(302,"/")}const ht=c=>{for(const l of Ae.getAttributeNames())c.attributes.find(a=>a.name===l)||c.attributes.push({name:l,base:0,scale:0})},Jt=Object.freeze(Object.defineProperty({__proto__:null,load:ct,ssr:vt},Symbol.toStringTag,{value:"Module"}));var mt=w("<!> <!> <!>",1);function Re(c,l){z(l,!0);const a=Le(),r=()=>_e(Ze,"$activeType",a);let t=U(l,"icon",15);var e=mt(),i=M(e);o(i,{label:"Icon",get tooltip(){return`[icon] The item that represents the ${r()??""} in GUIs`},children:(b,$)=>{Ve(b,{get selected(){return t().material},set selected(n){t(t().material=n,!0)}})},$$slots:{default:!0}});var u=s(i,2);o(u,{label:"CustomModelData",type:"number",intMode:!0,get tooltip(){return`[icon-data] The CustomModelData of the item that represents the ${r()??""} in GUIs`},get value(){return t().customModelData},set value(b){t(t().customModelData=b,!0)}});var _=s(u,2),m=Y(()=>"[icon-lore]"+r()=="class"?"The item's lore description":'The description shown for the item in skill trees. Include values of mechanics such as damage dealt using their "Icon Key" values');o(_,{label:"Icon Lore",get tooltip(){return g(m)},children:(b,$)=>{K(b,{get value(){return t().lore},set value(n){t(t().lore=n,!0)}})},$$slots:{default:!0}}),y(c,e),N()}var bt=w('<div class="entry svelte-wejg12" tabindex="0" role="menuitem"> </div>'),ft=w('<div class="input svelte-wejg12"></div>');function pt(c,l){let a=U(l,"value",15,273);var r=ft();re(r,21,()=>l.data,ce,(t,e,i)=>{var u=bt();u.__click=()=>a(a()^Math.pow(2,i));const _=Y(()=>a()&Math.pow(2,i));V(()=>Ue(u,"selected",g(_)));var m=T(u,!0);S(u),V(()=>se(m,g(e))),pe("keypress",u,b=>{b.key==="Enter"&&a(a()^Math.pow(2,i))}),y(t,u)}),S(r),y(c,r)}We(["click"]);var gt=w('<select id="skill-tree"><option>Custom</option><option>Requirement</option><option>Basic Horizontal</option><option>Basic Vertical</option><option>Level Horizontal</option><option>Level Vertical</option><option>Flood</option></select>'),_t=(c,l)=>ge(l,!g(l)),kt=w(`<div class="info svelte-1v5246t">These are the materials that can be used as combo starters. If a material is not in the list, it
			cannot be used as a combo starter. If the list is inverted, then the materials in the list cannot be used as combo
			starters</div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>`,1),$t=w('<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="info svelte-1v5246t">Drag & Drop your attributes file to use your custom attributes</div> <!> <!> <!> <!> <!> <!> <div class="header combos svelte-1v5246t" role="button" tabindex="0">Combo Starters <span class="material-symbols-rounded"> </span></div> <!>',1);function yt(c,l){z(l,!0);const a=Le(),r=()=>_e(_,"$classes",a),t=()=>_e(m,"$skills",a);let e=U(l,"data",15),i=Ge(!1),u;const _=Oe.classes,m=Ce.skills;it(()=>{u=Ae.attributes.subscribe(v=>{const C=[];e(e().attributes=e().attributes.filter(A=>v.some(x=>x.name===A.name)?(C.push(A.name),!0):!1),!0);for(const A of v.filter(x=>!C.includes(x.name)))e().attributes.push({name:A.name,base:0,scale:0})})}),nt(()=>{u&&u()}),ke(()=>{var v;return(v=l.onsave)==null?void 0:v.call(l)});var b=ve(),$=M(b);{var n=v=>{var C=$t(),A=M(C);o(A,{label:"Name",tooltip:"The name of the class. This should not contain color codes",get value(){return e().name},set value(d){e(e().name=d,!0)}});var x=s(A,2);o(x,{label:"Prefix",tooltip:"The prefix given to players who profess as the class which can contain color codes",get value(){return e().prefix},set value(d){e(e().prefix=d,!0)}});var k=s(x,2);o(k,{label:"Action Bar",tooltip:"The format for the action bar. Leave blank to use the default formatting",get value(){return e().actionBar},set value(d){e(e().actionBar=d,!0)}});var W=s(k,2);o(W,{label:"Group",tooltip:'A class group are things such as "race", "class", and "trade". Different groups can be professed through at the same time, one class from each group',get value(){return e().group},set value(d){e(e().group=d,!0)}});var G=s(W,2);o(G,{label:"Mana Name",tooltip:"The name the class uses for mana",get value(){return e().manaName},set value(d){e(e().manaName=d,!0)}});var E=s(G,2);o(E,{label:"Max Level",tooltip:"The maximum level the class can reach. If this class turns into other classes, this will also be the level it can profess into those classes",get value(){return e().maxLevel},set value(d){e(e().maxLevel=d,!0)}});var F=s(E,2);o(F,{label:"Parent",tooltip:"The class that turns into this one. For example, if Fighter turns into Knight, then Knight would have its parent as Fighter",children:(d,R)=>{var I=Y(()=>r().filter(q=>q!==e()));ae(d,{id:"parent",get data(){return g(I)},get selected(){return e().parent},set selected(q){e(e().parent=q,!0)}})},$$slots:{default:!0}});var Q=s(F,2),he=Y(()=>`Whether the class requires a permission to be professed as. The permission would be "skillapi.class.${e().name.toLowerCase()??""}"`);o(Q,{label:"Permission",get tooltip(){return g(he)},children:(d,R)=>{B(d,{get data(){return e().permission},set data(I){e(e().permission=I,!0)}})},$$slots:{default:!0}});var oe=s(Q,2);o(oe,{label:"Exp Sources",tooltip:'The experience sources the class goes up from. Most of these only work if "use-exp-orbs" is enabled in the config.yml',children:(d,R)=>{pt(d,{data:et,get value(){return e().expSources},set value(I){e(e().expSources=I,!0)}})},$$slots:{default:!0}});var ie=s(oe,2);o(ie,{label:"Health",tooltip:"The amount of health the class has",children:(d,R)=>{O(d,{get value(){return e().health}})},$$slots:{default:!0}});var ne=s(ie,2);o(ne,{label:"Mana",tooltip:"The amount of mana the class has",children:(d,R)=>{O(d,{get value(){return e().mana}})},$$slots:{default:!0}});var me=s(ne,4);re(me,17,()=>e().attributes,d=>d.name,(d,R)=>{var I=Y(()=>tt(g(R).name));o(d,{get label(){return g(I)},get tooltip(){return`The amount of ${g(R).name??""} the class has`},children:(q,J)=>{O(q,{get value(){return g(R)}})},$$slots:{default:!0}})});var h=s(me,2);o(h,{label:"Mana Regen",tooltip:"The amount of mana the class regenerates at each interval. The interval is in the config.yml and by default is once every second. If you want to regen a decimal amount per second, increase the interval",get value(){return e().manaRegen},set value(d){e(e().manaRegen=d,!0)}});var D=s(h,2);o(D,{label:"Skill Tree",tooltip:"The type of skill tree to use",children:(d,R)=>{var I=gt(),q=T(I);q.value=(q.__value="Custom")==null?"":"Custom";var J=s(q);J.value=(J.__value="Requirement")==null?"":"Requirement";var X=s(J);X.value=(X.__value="Basic Horizontal")==null?"":"Basic Horizontal";var Z=s(X);Z.value=(Z.__value="Basic Vertical")==null?"":"Basic Vertical";var ee=s(Z);ee.value=(ee.__value="Level Horizontal")==null?"":"Level Horizontal";var te=s(ee);te.value=(te.__value="Level Vertical")==null?"":"Level Vertical";var de=s(te);de.value=(de.__value="Flood")==null?"":"Flood",S(I),dt(I,()=>e().skillTree,be=>e(e().skillTree=be,!0)),y(d,I)},$$slots:{default:!0}});var P=s(D,2);o(P,{label:"Skills",tooltip:"The skills the class is able to use",children:(d,R)=>{ae(d,{id:"skills",get data(){return t()},multiple:!0,placeholder:"No Skills",get selected(){return e().skills},set selected(I){e(e().skills=I,!0)}})},$$slots:{default:!0}});var H=s(P,2);Re(H,{get icon(){return e().icon},set icon(d){e(e().icon=d,!0)}});var qe=s(H,2);o(qe,{label:"Unusable items",tooltip:"[blacklist] The types of items that the class cannot use",children:(d,R)=>{Ve(d,{multiple:!0,get selected(){return e().unusableItems},set selected(I){e(e().unusableItems=I,!0)}})},$$slots:{default:!0}});var ue=s(qe,2);ue.__click=[_t,i];var Me=s(T(ue)),Ke=T(Me,!0);S(Me),S(ue);var Qe=s(ue,2);{var Ye=d=>{var R=kt(),I=s(M(R),2);o(I,{label:"L Inverted",tooltip:"Whether the L list should be used as a blacklist",children:(f,L)=>{B(f,{get data(){return e().lInverted},set data(p){e(e().lInverted=p,!0)}})},$$slots:{default:!0}});var q=s(I,2);o(q,{label:"L Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,L)=>{K(f,{get value(){return e().lWhitelist},set value(p){e(e().lWhitelist=p,!0)}})},$$slots:{default:!0}});var J=s(q,2);o(J,{label:"R Inverted",tooltip:"Whether the R list should be used as a blacklist",children:(f,L)=>{B(f,{get data(){return e().rInverted},set data(p){e(e().rInverted=p,!0)}})},$$slots:{default:!0}});var X=s(J,2);o(X,{label:"R Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,L)=>{K(f,{get value(){return e().rWhitelist},set value(p){e(e().rWhitelist=p,!0)}})},$$slots:{default:!0}});var Z=s(X,2);o(Z,{label:"LS Inverted",tooltip:"Whether the LS list should be used as a blacklist",children:(f,L)=>{B(f,{get data(){return e().lsInverted},set data(p){e(e().lsInverted=p,!0)}})},$$slots:{default:!0}});var ee=s(Z,2);o(ee,{label:"LS Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,L)=>{K(f,{get value(){return e().lsWhitelist},set value(p){e(e().lsWhitelist=p,!0)}})},$$slots:{default:!0}});var te=s(ee,2);o(te,{label:"RS Inverted",tooltip:"Whether the RS list should be used as a blacklist",children:(f,L)=>{B(f,{get data(){return e().rsInverted},set data(p){e(e().rsInverted=p,!0)}})},$$slots:{default:!0}});var de=s(te,2);o(de,{label:"RS Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,L)=>{K(f,{get value(){return e().rsWhitelist},set value(p){e(e().rsWhitelist=p,!0)}})},$$slots:{default:!0}});var be=s(de,2);o(be,{label:"S Inverted",tooltip:"Whether the S list should be used as a blacklist",children:(f,L)=>{B(f,{get data(){return e().rsInverted},set data(p){e(e().rsInverted=p,!0)}})},$$slots:{default:!0}});var Fe=s(be,2);o(Fe,{label:"S Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,L)=>{K(f,{get value(){return e().rsWhitelist},set value(p){e(e().rsWhitelist=p,!0)}})},$$slots:{default:!0}});var De=s(Fe,2);o(De,{label:"P Inverted",tooltip:"Whether the P list should be used as a blacklist",children:(f,L)=>{B(f,{get data(){return e().pInverted},set data(p){e(e().pInverted=p,!0)}})},$$slots:{default:!0}});var Be=s(De,2);o(Be,{label:"P Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,L)=>{K(f,{get value(){return e().pWhitelist},set value(p){e(e().pWhitelist=p,!0)}})},$$slots:{default:!0}});var je=s(Be,2);o(je,{label:"Q Inverted",tooltip:"Whether the Q list should be used as a blacklist",children:(f,L)=>{B(f,{get data(){return e().qInverted},set data(p){e(e().qInverted=p,!0)}})},$$slots:{default:!0}});var ze=s(je,2);o(ze,{label:"Q Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,L)=>{K(f,{get value(){return e().qWhitelist},set value(p){e(e().qWhitelist=p,!0)}})},$$slots:{default:!0}});var Ne=s(ze,2);o(Ne,{label:"F Inverted",tooltip:"Whether the F list should be used as a blacklist",children:(f,L)=>{B(f,{get data(){return e().fInverted},set data(p){e(e().fInverted=p,!0)}})},$$slots:{default:!0}});var Je=s(Ne,2);o(Je,{label:"F Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,L)=>{K(f,{get value(){return e().fWhitelist},set value(p){e(e().fWhitelist=p,!0)}})},$$slots:{default:!0}}),y(d,R)};j(Qe,d=>{g(i)&&d(Ye)})}V(()=>se(Ke,g(i)?"expand_less":"expand_more")),pe("keypress",ue,d=>{d.key==="Enter"&&ge(i,!g(i))}),y(v,C)};j($,v=>{e()&&v(n)})}y(c,b),N()}We(["click"]);var St=(c,l,a)=>l(g(a)),Tt=w('<div class="attr svelte-1ihs233" tabindex="0" role="button" aria-label="Remove Attribute" title="Remove Attribute"><div class="name svelte-1ihs233"> </div> <div class="value svelte-1ihs233"> </div></div>'),Pt=w('<div class="wrapper svelte-1ihs233"></div>'),xt=w('<!> <!> <!> <div aria-label="Add Attribute" class="btn svelte-1ihs233" role="button" tabindex="0" title="Add Attribute">Add Attribute</div>',1);function It(c,l){z(l,!0);let a=U(l,"value",31,()=>fe([])),r=Ge(fe({name:"",base:0,scale:0}));const t=n=>{g(r).name&&(n&&n.type==="keypress"&&n.key!=="Enter"||(a([...a(),g(r)]),ge(r,fe({name:"",base:0,scale:0}))))},e=n=>{a(a().filter(v=>v!==n))};var i=xt(),u=M(i);{var _=n=>{var v=Pt();re(v,21,a,ce,(A,x)=>{var k=Tt();k.__click=[St,e,x];var W=T(k),G=T(W,!0);S(W);var E=s(W,2),F=T(E);S(E),S(k),V(()=>{se(G,g(x).name),se(F,`${g(x).base??""}+(${g(x).scale??""})`)}),pe("keypress",k,()=>e(g(x))),y(A,k)}),S(v),y(n,v)};j(u,n=>{a().length>0&&n(_)})}var m=s(u,2);o(m,{label:"Attribute Name",placeholder:"Attribute Name",get value(){return g(r).name},set value(n){g(r).name=n}});var b=s(m,2);o(b,{get label(){return`${g(r).name??""} Value`},children:(n,v)=>{O(n,{get value(){return g(r)},set value(C){ge(r,fe(C))}})},$$slots:{default:!0}});var $=s(b,2);$.__click=t,V(()=>Ue($,"disabled",!g(r).name)),pe("keypress",$,t),y(c,i),N()}We(["click"]);var wt=w('<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="header svelte-mjz973">Requirements</div> <!> <!> <!> <!> <!> <div class="header svelte-mjz973">Attribute Requirements</div> <!>',1);function At(c,l){z(l,!0);const a=Le(),r=()=>_e(e,"$skills",a);let t=U(l,"data",15);const e=Ce.skills;ke(()=>{var m;return(m=l.onsave)==null?void 0:m.call(l)});var i=ve(),u=M(i);{var _=m=>{var b=wt(),$=M(b);o($,{label:"Name",tooltip:"The name of the skill. This should not contain color codes",get value(){return t().name},set value(h){t(t().name=h,!0)}});var n=s($,2);o(n,{label:"Type",tooltip:'The flavor text describing the skill such as "AOE utility" or whatever you want it to be',get value(){return t().type},set value(h){t(t().type=h,!0)}});var v=s(n,2);o(v,{label:"Max Level",tooltip:"The maximum level the skill can reach",get value(){return t().maxLevel},set value(h){t(t().maxLevel=h,!0)}});var C=s(v,2);o(C,{label:"Cost",tooltip:"The amount of skill points needed to unlock and upgrade this skill",children:(h,D)=>{O(h,{get value(){return t().cost},set value(P){t(t().cost=P,!0)}})},$$slots:{default:!0}});var A=s(C,2);o(A,{label:"Cooldown",tooltip:"The time in seconds before the skill can be cast again (only works with the Cast trigger)",children:(h,D)=>{O(h,{get value(){return t().cooldown},set value(P){t(t().cooldown=P,!0)}})},$$slots:{default:!0}});var x=s(A,2);o(x,{label:"Cooldown Message",tooltip:"Whether to send a message when attempting to run the skill while in cooldown",children:(h,D)=>{B(h,{get data(){return t().cooldownMessage},set data(P){t(t().cooldownMessage=P,!0)}})},$$slots:{default:!0}});var k=s(x,2);o(k,{label:"Mana",tooltip:"The amount of mana it takes to cast the skill (only works with the Cast trigger)",children:(h,D)=>{O(h,{get value(){return t().mana},set value(P){t(t().mana=P,!0)}})},$$slots:{default:!0}});var W=s(k,2);o(W,{label:"Cast Message",tooltip:"The message to display to players around the caster when the skill is cast. The radius of the area is in the config.yml options",get value(){return t().castMessage},set value(h){t(t().castMessage=h,!0)}});var G=s(W,2);o(G,{label:"Combo",tooltip:'The click combo to assign the skill (if enabled). Use L, R, S, LS, RS, P, Q and F for the types of clicks separated by spaces. For example, "L L R R" would work for 4 click combos.',get value(){return t().combo},set value(h){t(t().combo=h,!0)}});var E=s(G,2);Re(E,{get icon(){return t().icon},set icon(h){t(t().icon=h,!0)}});var F=s(E,2);o(F,{label:"Incompatible",tooltip:"List of skills that must not be upgraded in order to upgrade this skill",children:(h,D)=>{var P=Y(()=>r().filter(H=>H!==t()));ae(h,{multiple:!0,get data(){return g(P)},get selected(){return t().incompatible},set selected(H){t(t().incompatible=H,!0)}})},$$slots:{default:!0}});var Q=s(F,4);o(Q,{label:"Skill Requirement",tooltip:"The skill that needs to be upgraded before this one can be unlocked",children:(h,D)=>{var P=Y(()=>r().filter(H=>H!==t()));ae(h,{id:"skillReq",get data(){return g(P)},get selected(){return t().skillReq},set selected(H){t(t().skillReq=H,!0)}})},$$slots:{default:!0}});var he=s(Q,2);o(he,{label:"Skill Req Level",tooltip:"The level that the required skill needs to reach before this one can be unlocked",get value(){return t().skillReqLevel},set value(h){t(t().skillReqLevel=h,!0)}});var oe=s(he,2);o(oe,{label:"Permission",get tooltip(){return`Whether this skill requires a permission to unlock. The permission would be "skillapi.skill.${t().name??""}"`},children:(h,D)=>{B(h,{get data(){return t().permission},set data(P){t(t().permission=P,!0)}})},$$slots:{default:!0}});var ie=s(oe,2);o(ie,{label:"Level Req",tooltip:"The class level the player needs to be before unlocking or upgrading this skill",children:(h,D)=>{O(h,{get value(){return t().levelReq},set value(P){t(t().levelReq=P,!0)}})},$$slots:{default:!0}});var ne=s(ie,2);o(ne,{label:"Min Spent",tooltip:"The amount of skill points that need to be spent before upgrading this skill",children:(h,D)=>{O(h,{get value(){return t().minSpent},set value(P){t(t().minSpent=P,!0)}})},$$slots:{default:!0}});var me=s(ne,4);It(me,{get value(){return t().attributeRequirements},set value(h){t(t().attributeRequirements=h,!0)}}),y(m,b)};j(u,m=>{t()&&m(_)})}y(c,i),N()}var Ct=w('<div class="stat svelte-19i6c7i"><div class="btn-del svelte-19i6c7i"><!></div> <!> <!></div>');function Wt(c,l){z(l,!0);let a=U(l,"stat",15);var r=Ct(),t=T(r),e=T(t);le(e,{title:"Delete stat",icon:"delete",color:"red",onclick:()=>l.component.removeStat(a()),onkeypress:()=>l.component.removeStat(a())}),S(t);var i=s(t,2);o(i,{label:"Option",tooltip:"Attribute option to modify based on attribute value",children:(_,m)=>{ae(_,{get data(){return l.component.availableStats},multiple:!1,get selected(){return a().key},set selected(b){a(a().key=b,!0)}})},$$slots:{default:!0}});var u=s(i,2);we(u,{name:"Formula",tooltip:"Formula to modify the option by",get data(){return a().formula},set data(_){a(a().formula=_,!0)}}),S(r),y(c,r),N()}var Lt=w('<div class="component svelte-k4qkgo"><div class="componentTitle svelte-k4qkgo"><!></div> <!> <div class="controls svelte-k4qkgo"><!> <!></div></div>');function Rt(c,l){z(l,!0);let a=U(l,"component",7);ke(()=>a().section.attribute.save());var r=Lt(),t=T(r),e=T(t);o(e,{label:"Component",tooltip:"The component to modify options to",children:($,n)=>{ae($,{get data(){return l.section.availableComponents},multiple:!1,get selected(){return a().name},set selected(v){a().name=v}})},$$slots:{default:!0}}),S(t);var i=s(t,2);re(i,17,()=>a().stats,ce,($,n)=>{Wt($,{get stat(){return g(n)},get component(){return a()}})});var u=s(i,2),_=T(u);{var m=$=>{le($,{title:"Add Stat",icon:"add",color:"gray",onclick:()=>a().addStat(a().availableStats[0]),onkeypress:()=>a().addStat(a().availableStats[0])})};j(_,$=>{a().availableStats.length>0&&$(m)})}var b=s(_,2);le(b,{title:"Delete Component",icon:"delete",color:"red",onclick:()=>l.section.removeComponent(a()),onkeypress:()=>l.section.removeComponent(a())}),S(u),S(r),V(()=>at(r,"--comp-color",l.color)),y(c,r),N()}var qt=w('<div class="btn svelte-1y16mx6"><!></div>'),Mt=w('<div class="section svelte-1y16mx6"><div class="header svelte-1y16mx6"> </div> <!> <!></div>');function xe(c,l){z(l,!0);let a=l.name==="Target"?"#04af38":l.name==="Condition"?"#feac00":"#ff3a3a";var r=Mt(),t=T(r),e=T(t);S(t);var i=s(t,2);re(i,17,()=>l.section.components,ce,(m,b)=>{Rt(m,{color:a,get component(){return g(b)},get section(){return l.section}})});var u=s(i,2);{var _=m=>{var b=qt(),$=T(b),n=Y(()=>`Add ${l.name}`);le($,{get title(){return g(n)},icon:"add",color:a,onclick:()=>l.section.addComponent(l.section.availableComponents[0]),onkeypress:()=>l.section.addComponent(l.section.availableComponents[0])}),S(b),y(m,b)};j(u,m=>{l.section.availableComponents.length>0&&m(_)})}S(r),V(()=>se(e,`${l.name??""} modifiers`)),y(c,r),N()}var Ft=w('<div class="stat svelte-yzok5e"><div class="btn-del svelte-yzok5e"><!></div> <!> <!></div>');function Dt(c,l){z(l,!0);let a=U(l,"stat",15);var r=Ft(),t=T(r),e=T(t);le(e,{title:"Delete stat",icon:"delete",color:"red",onclick:()=>l.stats.removeStat(a()),onkeypress:()=>l.stats.removeStat(a())}),S(t);var i=s(t,2);we(i,{name:"Stat",tooltip:"Attribute option to modify based on attribute value",get data(){return a().key},set data(_){a(a().key=_,!0)}});var u=s(i,2);we(u,{name:"Formula",tooltip:"Formula to modify the option by",get data(){return a().formula},set data(_){a(a().formula=_,!0)}}),S(r),y(c,r),N()}var Bt=w('<div class="stats svelte-3opmim"><div class="header svelte-3opmim">Stat modifiers</div> <!> <div class="btn svelte-3opmim"><!></div></div>');function jt(c,l){z(l,!0);let a=U(l,"stats",15);var r=Bt(),t=s(T(r),2);re(t,17,()=>a().stats,ce,(u,_)=>{Dt(u,{get stat(){return g(_)},get stats(){return a()},set stats(m){a(m)}})});var e=s(t,2),i=T(e);le(i,{color:"gray",icon:"add",onclick:()=>a().addStat(),onkeypress:()=>a().addStat(),title:"Add Stat"}),S(e),S(r),y(c,r),N()}var zt=w("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function Nt(c,l){z(l,!0);let a=U(l,"data",15);ke(()=>{var i;return(i=l.onsave)==null?void 0:i.call(l)});var r=ve(),t=M(r);{var e=i=>{var u=zt(),_=M(u);o(_,{label:"Name",tooltip:"The name of the attribute. This should not contain color codes",get value(){return a().name},set value(k){a(a().name=k,!0)}});var m=s(_,2);o(m,{label:"Display",tooltip:"The name of the attribute as it will be displayed in the game",get value(){return a().display},set value(k){a(a().display=k,!0)}});var b=s(m,2);o(b,{label:"Max",tooltip:"The maximum points of this attribute that a player can have",get value(){return a().max},set value(k){a(a().max=k,!0)}});var $=s(b,2);o($,{label:"Cost",tooltip:"How many attribute points it costs to upgrade the attribute, increasing with the level of the attribute",children:(k,W)=>{O(k,{get value(){return a().cost}})},$$slots:{default:!0}});var n=s($,2);Re(n,{get icon(){return a().icon},set icon(k){a(a().icon=k,!0)}});var v=s(n,2);xe(v,{name:"Target",get section(){return a().targets}});var C=s(v,2);xe(C,{name:"Condition",get section(){return a().conditions}});var A=s(C,2);xe(A,{name:"Mechanic",get section(){return a().mechanics}});var x=s(A,2);jt(x,{get stats(){return a().stats}}),y(i,u)};j(t,i=>{a()&&i(e)})}y(c,r),N()}var Et=w('<a class="material-symbols-rounded chip edit-skill svelte-191pm8d">auto_fix</a>'),Ht=w('<h1 class="svelte-191pm8d"> <!></h1> <hr> <div class="container svelte-191pm8d"><!></div>',1);function Xt(c,l){z(l,!0);const a=()=>l.data.data.save();var r=Ht();ot(n=>{V(()=>ut.title=`Fabled Dynamic Editor - ${l.data.data.name??""}`)});var t=M(r),e=T(t),i=s(e);{var u=n=>{var v=Et();V(()=>st(v,"href",`${rt??""}/skill/${l.data.data.name??""}`)),y(n,v)};j(i,n=>{var v;((v=l.data)==null?void 0:v.data)instanceof Ee&&n(u)})}S(t);var _=s(t,4),m=T(_);{var b=n=>{yt(n,{get data(){return l.data.data},onsave:a})},$=n=>{var v=ve(),C=M(v);{var A=k=>{At(k,{get data(){return l.data.data},onsave:a})},x=k=>{var W=ve(),G=M(W);{var E=F=>{Nt(F,{get data(){return l.data.data},onsave:a})};j(G,F=>{var Q;((Q=l.data)==null?void 0:Q.data)instanceof Ie&&F(E)},!0)}y(k,W)};j(C,k=>{var W;((W=l.data)==null?void 0:W.data)instanceof Ee?k(A):k(x,!1)},!0)}y(n,v)};j(m,n=>{var v;((v=l.data)==null?void 0:v.data)instanceof lt?n(b):n($,!1)})}S(_),V(()=>{var n,v;return se(e,`${((v=(n=l.data)==null?void 0:n.data)==null?void 0:v.name)??""} `)}),y(c,r),N()}export{Xt as component,Jt as universal};
